{"id":"d3-item-salvager-6pj","title":"test","status":"open","priority":2,"issue_type":"task","owner":"czer323@gmail.com","created_at":"2026-01-13T15:19:18.0862119-05:00","created_by":"czer323","updated_at":"2026-01-13T15:19:18.0862119-05:00"}
{"id":"d3-item-salvager-okk","title":"Fix: local DB corrupted â€” mixed class items in builds; remove \u0026 repopulate builds","description":"Local development DB contains corrupted build data: different class items are appended into other builds, causing test failures and unreliable imports. Default DB: d3_items.db. Importers found: python -m d3_item_salvager.scripts.import_guides and python -m d3_item_salvager.utility.load_reference_data. Note: Alembic migrations are not present in repo (migration risk).","design":"Backup DB; validate cleanup on a copy; recommended: drop and recreate schema using SQLModel.metadata.drop_all/create_all via Container engine; alternative: granular DELETEs in FK-safe order. Repopulate using importer scripts and add an automated script to run backup -\u003e cleanup -\u003e import.","acceptance_criteria":"- Given a backup exists; When cleanup + import run; Then builds table contains only imported builds and there is no cross-class mixing; integration tests pass (pytest tests/integration/test_builds_items.py); backup file present (d3_items.db.bak)","notes":"Suggested commands: cp d3_items.db d3_items.db.bak; sqlite3 d3_items.db .dump \u003e backup.sql; python -c 'from d3_item_salvager.container import Container; from sqlmodel import SQLModel; e=Container().engine(); SQLModel.metadata.drop_all(e); SQLModel.metadata.create_all(e)'; python -m d3_item_salvager.scripts.import_guides; pytest tests/integration/test_builds_items.py","status":"open","priority":1,"issue_type":"bug","owner":"czer323@gmail.com","estimated_minutes":120,"created_at":"2026-01-13T15:36:31.5075701-05:00","created_by":"czer323","updated_at":"2026-01-13T15:36:31.5075701-05:00","labels":["testing","tooling"]}
